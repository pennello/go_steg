TODO
----
- write godoc documentation
- maybe generate masks.go from something easier to read?
- test writer
